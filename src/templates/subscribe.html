{% extends 'layout.html' %}

{% block body %}
<div class="col-md-12">
    <div class="container">
        <div class="modal-content" style="padding: 30px 50px">
            <div>
              <div class="d-flex justify-content-center">
                <img alt="SYMPOSIUM login logo" src="/static/images/logo_login.png" style="width: 100px"/>
              </div>
              <div class="d-flex justify-content-center">
                <h1>Iscrizione</h1>
              </div>
            </div>
            <form action="" method="POST" novalidate enctype="multipart/form-data">
              {{ form.csrf_token }}
              <div class="container-fluid">
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    {{ form.title.label }}
                    {{ form.title(class_="form-control") }}
                    {% for error in form.title.errors %}
                      <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                  </div>
                  <div class="form-group">
                    {{ form.name.label }}
                    {{ form.name(class_="form-control") }}
                    {% for error in form.name.errors %}
                      <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                  </div>
                  <div class="form-group">
                    {{ form.surname.label }}
                    {{ form.surname(class_="form-control") }}
                    {% for error in form.surname.errors %}
                      <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                  </div>
                  <div class="form-group">
                    {{ form.institution.label }}
                    {{ form.institution(class_="form-control") }}
                    {% for error in form.institution.errors %}
                      <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                  </div>
                  <div class="form-group">
                    {{ form.email.label }}
                    {{ form.email(class_="form-control") }}
                    {% for error in form.email.errors %}
                      <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                  {{ form.needs_accommodation(class_="form-check-label") }}
                  {{ form.needs_accommodation.label }}
                  {% for error in form.needs_accommodation.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                  {% endfor %}
                </div>
                  <div class="form-group" id="accommodation-div" style="display: none">
                    {{ form.chosen_accommodation.label }} *
                    {{ form.chosen_accommodation(class_="form-control") }}
                    {% for error in form.chosen_accommodation.errors %}
                      <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                    <p><strong>*Sarete ricontattati dall'organizzazione per stabilire i dettagli della prenotazione alberghiera</strong></p>
                  </div>
                  <div class="form-group">
                    {{ form.hidden_tag() }}
                    {{ form.receipt.label }}
                    {{ form.receipt }}
                    {% for error in form.receipt.errors %}
                      <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                  </div>
                  <div class="form-group">
                    {{ form.recaptcha }}
                  </div>
                  <div class="form-group">
                    {{ form.submit(class_="btn btn-primary") }}
                  </div>
                </div>
              </div>
              </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}


{% block js %}

<script type="text/javascript">

function accommodationToggle() {

    if ($('#needs_accommodation').is(':checked')) {
      $('#accommodation-div').css('display', 'block');
    } else {
      $('#accommodation-div').css('display', 'none');
      $('#chosen_accommodation').val('');
    }

    $(document).ready(function () {
        $('#needs_accommodation').on('click', function () {

            if ($('#needs_accommodation').is(':checked')) {
              $('#accommodation-div').css('display', 'block');
            } else {
              $('#accommodation-div').css('display', 'none');
              $('#chosen_accommodation').val('');
            }

        });
    });
}

accommodationToggle();

</script>

{% endblock %}
